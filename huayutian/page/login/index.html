<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<title>index.html</title>
	<!-- <link rel="stylesheet" href="index.css"> -->
	<link rel="stylesheet" href="../../common/foxui.min.css">
	<link rel="stylesheet" href="index.css">
</head>
<body>
	<div class="big">
		<div class="top">
			<a href="#"><img src="../../images/First/left.png" alt="" class="top-back"></a>
			<img src="../../images/First/1.png" alt="" class="top-middle">
		</div>
		<div class="middle">
			<div class="middle-top">
				<span class="mode1 login-active">手机号登录</span>
				<span class="mode2">账号密码登录</span>
			</div>
			<div class="input-top">
				<input type="text" placeholder="请输入手机号">
				<span class="input-top-select">+86∨</span>
				<div class="select-phone"></div>
			</div>
			<div class="input-bottom">
				<input type="text" placeholder="请输入您收到的验证码">
				<span class="require">获取验证码</span>
				<!-- <span class="time">1111</span> -->
			</div>
			<p class="mess">未注册的手机将自动注册为花田账号</p>
			<div class="login">
				登录
			</div>
		</div>
		<div class="bottom">
			<img src="../../images/First/3.png" alt="">
			<img src="../../images/First/4.png" alt="">
			<img src="../../images/First/5.png" alt="">
		</div>
		<div class="fixed">
			<div class="deal"><p>登录/注册代表已同意<a href="javascript:;">《花雨田用户协议》</a> <a href="javascript:;">《隐私政策》</a></p></div>
			
			<ul class="fixed-nav">
				<li>
					<img src="../../images/First/20.png" alt="">
				</li>
				<li>
					<img src="../../images/First/22.png" alt="">
				</li>
				<li>
					<img src="../../images/First/19.png" alt="" class="fixed-nav-add">
				</li>
				<li>
					<img src="../../images/First/26.png" alt="">
				</li>
				<li>
					<img src="../../images/First/25.png" alt="">
				</li>
			</ul>
		</div>
	</div>
</body>
<script src="../../lab/js/jquery-1.12.4.js"></script>
<script>
	$(function(){
		var aMode=document.querySelectorAll('.middle-top span');
		var oRequire=document.querySelector('.require');
		var timer=null
		console.log($('.mode1'))
		// console.log(aMode)
		for(let i=0;i<aMode.length;i++){
			aMode[i].index=i;
			aMode[i].onclick=function(){
				// console.log(this.index)
				if(this.index==0){
					$(oRequire).html('获取验证码')
					$('.input-top input').attr("placeholder","+86v  请输入手机号")
					$('.middle input').val('');
					$('.input-bottom input').attr("placeholder","请输入您收到的验证码")
					$('.input-bottom input').attr("type","text");
					$('.mode1').addClass('login-active')
					$('.mode2').removeClass('register-active')
				}else{
					$(oRequire).html('找回密码');
					$('.input-top input').attr("placeholder","手机/邮箱");
					$('.input-bottom input').attr("placeholder","请输入密码");
					$('.input-bottom input').attr("type","password");
					$('.middle input').val('');
					$('.mode1').removeClass('login-active')
					$('.mode2').addClass('register-active')
				}
				for(var i=0;i<aMode.length;i++){
					$(aMode[i]).removeClass('active')
				}
				$(this).addClass('active')
			}
		}
		//倒计时
		var isRequest=false;
		function request(){
			if(isRequest){
				oRequire.onclick=false;
			}
			var preDate=Date.now();
			var endDate=preDate+60000;
			// console.log(preDate)
			// console.log(endDate)
			oRequire.onclick=null;
			function contTime(){

				var allMinSec=(endDate -Date.now())/1000;
				if(allMinSec<=0){
					allMinSec=0;
				}
				var isec=parseInt(allMinSec%3600%60);

				oRequire.innerHTML=isec+"S";
				if(isec==0){
					clearTimeout(timer)
					oRequire.innerHTML="重新获取";
					oRequire.onclick=request
				}
				// console.log(1)
			}
			
			timer=setInterval(contTime,1000);
		}
		oRequire.onclick=request;

			});
		//封装方法
		//设置cookie
		// function setCookie(key,value,iData){
		// 	var oDate = new Date();
	 //   		oDate.setDate(oDate.getDate() + iData);
	 //   		document.cookie=key+"="+value+";expires="+oDate
		// }
		// setCookie('username','xiongjiaman',10);
		// setCookie('age','21',10);
		// //获取cookie
		//  function getCookie(name){
	 //        var str = document.cookie;
	 //        var arr1 = str.split(";");
	 //        var result = "";
	 //        for(var i=0;i<arr1.length;i++){
	 //            var arr2 = arr1[i].split("=");
	 //            if(arr2[0].trim() == name.trim()){
	 //                result = arr2[1];
	 //                break;
	 //            }
	 //        }
	 //        return result;
	 //        }
		// console.log(getCookie('age'));
		// //删除cookie
		// function removeCookie(key){
		// 	setCookie(key,false,-1);
		// }
</script>
</html>